<header
  class="w-full z-40 sticky top-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-gray-200 dark:border-slate-800 transition-colors duration-300"
>
  <div class="px-4 sm:px-6 py-3 flex items-center justify-between">
    <!-- LEFT -->
    <div class="flex items-center gap-3 min-w-0">
      <!-- Mobile hamburger -->
      <button
        type="button"
        class="sm:hidden w-10 h-10 rounded-xl flex items-center justify-center text-slate-700 dark:text-slate-200 hover:bg-black/5 dark:hover:bg-white/5 transition-colors"
        (click)="menuClick.emit()"
        aria-label="Open menu"
      >
        <i class="pi pi-bars text-lg"></i>
      </button>

      <div class="min-w-0">
        <h2
          class="text-[9px] sm:text-sm font-black text-slate-800 dark:text-gray-100 leading-tight uppercase tracking-tight truncate"
        >
          {{ greeting }}, {{ lastName }}
        </h2>

        <p
          class="text-[8px] sm:text-[10px] text-blue-600 dark:text-blue-400 font-bold uppercase tracking-[0.2em]"
        >
          {{ currentDate | date: 'EEEE, MMM d' }}
        </p>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="flex items-center">
      <button
        pButton
        [icon]="isDarkMode ? 'pi pi-sun' : 'pi pi-moon'"
        class="p-button-rounded p-button-text p-button-secondary dark:text-gray-300 transition-transform active:scale-90"
        pTooltip="Toggle Mode"
        (click)="toggleTheme()"
      ></button>

      <div class="relative mr-2">
        <button
          pButton
          icon="pi pi-bell"
          routerLink="general/notifications"
          class="p-button-rounded p-button-text p-button-secondary dark:text-gray-300"
        ></button>

        <span class="absolute top-2 right-2 flex h-2 w-2">
          <span
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"
          ></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
        </span>
      </div>

      <div class="pl-4 border-l border-gray-200 dark:border-slate-700 flex items-center gap-4 ml-2">
        <a routerLink="general/profile" class="relative group">
          <div
            class="absolute -inset-1 bg-gradient-to-r from-blue-600 to-indigo-500 rounded-full opacity-0 group-hover:opacity-100 transition duration-300 blur-[1px]"
          ></div>
          <p-avatar
            image="https://api.dicebear.com/7.x/avataaars/svg?seed=Patrick"
            size="large"
            shape="circle"
            styleClass="relative border-2 border-white dark:border-slate-900 shadow-sm cursor-pointer scale-90 transition-transform group-active:scale-75"
          ></p-avatar>
        </a>
      </div>
    </div>
  </div>
</header>
